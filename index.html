<!DOCTYPE html>
<html lang="pl" class="bg-white text-gray-900 dark:bg-gray-900 dark:text-white transition-colors">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover" />
  <title>HappyDate â€” Asystent prezentowy z AI: przypomnienia, kalendarz, dostawa</title>

  <!-- Canonical / Hreflang -->
  <link rel="canonical" href="https://www.happydate.pl/" />
  <link rel="alternate" hreflang="pl" href="https://www.happydate.pl/pl/" />
  <link rel="alternate" hreflang="uk" href="https://www.happydate.pl/ua/" />
  <link rel="alternate" hreflang="en" href="https://www.happydate.pl/en/" />
  <link rel="alternate" hreflang="ru" href="https://www.happydate.pl/ru/" />
  <link rel="alternate" hreflang="de" href="https://www.happydate.pl/de/" />
  <link rel="alternate" hreflang="x-default" href="https://www.happydate.pl/" />

  <!-- SEO -->
  <meta name="description" content="HappyDate â€” TwÃ³j osobisty asystent prezentowy. Nie zapomnij o waÅ¼nych chwilach: przypomnienia, kalendarz i inteligentne propozycje prezentÃ³w z AI." />
  <meta name="keywords" content="prezenty, asystent prezentowy, kalendarz prezentÃ³w, prezent dla niej, prezent dla niego, AI gifts, prezenty online, HappyDate" />
  <meta name="author" content="HappyDate" />
  <meta name="robots" content="index, follow" />

  <!-- Open Graph / Twitter -->
  <meta property="og:title" content="HappyDate â€” Magiczne prezenty na kaÅ¼dÄ… okazjÄ™" />
  <meta property="og:description" content="Zaskocz bliskich wyjÄ…tkowymi prezentami i nie zapomnij o waÅ¼nych chwilach!" />
  <meta property="og:image" content="/img/social-banner.jpg" />
  <meta property="og:url" content="https://www.happydate.pl/" />
  <meta property="og:type" content="website" />
  <meta property="og:locale" content="pl_PL" />
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:title" content="HappyDate â€” Asystent prezentowy z AI" />
  <meta name="twitter:description" content="Prezenty z sercem, na czas. Przypomnienia, kalendarz i AI-podpowiedzi." />
  <meta name="twitter:image" content="/img/social-banner.jpg" />

  <!-- PWA -->
  <link rel="manifest" href="/manifest.webmanifest">
  <meta name="theme-color" content="#2563eb"/>

  <!-- Favicons (public/img) -->
  <link rel="icon" type="image/png" sizes="32x32" href="/img/favicon-32x32.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/img/apple-touch-icon.png">

  <!-- Performance -->
  <link rel="preconnect" href="https://unpkg.com" crossorigin>
  <link rel="preconnect" href="https://cdn.tailwindcss.com" crossorigin>

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- i18n -->
  <script src="https://unpkg.com/i18next@21.6.14/i18next.min.js"></script>
  <script src="https://unpkg.com/i18next-http-backend@1.4.1/i18nextHttpBackend.min.js"></script>

  <!-- AOS -->
  <link rel="stylesheet" href="https://unpkg.com/aos@2.3.4/dist/aos.css" />
  <script src="https://unpkg.com/aos@2.3.4/dist/aos.js"></script>

  <!-- Custom CSS -->
  <link rel="stylesheet" href="/src/css/style.css" />

  <!-- Prefer-reduced-motion + Skip link style -->
  <style>
    @media (prefers-reduced-motion: reduce){
      .animate-bounce,.animate-ping,.animate-pulse{animation:none!important}
    }
    .sr-only:not(:focus){position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}
    @keyframes fade-in { from { opacity: 0; transform: translateY(5px);} to { opacity: 1; transform: translateY(0);} }
    .animate-fade-in { animation: fade-in 0.3s ease-out forwards; }
  </style>

  <!-- JSON-LD -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"HappyDate",
    "url":"https://www.happydate.pl/",
    "logo":"/img/apple-touch-icon.png",
    "sameAs":[]
  }
  </script>
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"WebSite",
    "url":"https://www.happydate.pl/",
    "potentialAction":{
      "@type":"SearchAction",
      "target":"https://www.happydate.pl/search?q={query}",
      "query-input":"required name=query"
    }
  }
  </script>
</head>
<body class="overflow-x-hidden">

<!-- Skip link -->
<a href="#main" class="sr-only focus:not-sr-only focus:absolute focus:top-2 focus:left-2 bg-white text-blue-700 p-2 rounded">PrzejdÅº do treÅ›ci</a>

<!-- Header -->
<header id="mainHeader"
  class="bg-gradient-to-r from-blue-400 to-cyan-400 py-3 sm:py-4 shadow-none sticky top-0 z-50 transition-shadow duration-300"
  aria-label="GÅ‚Ã³wna nawigacja">
  <div class="max-w-7xl mx-auto px-2 sm:px-4 md:px-8">
    <div class="flex justify-between items-center">
      <div class="flex items-center gap-2">
        <a href="/index.html" id="logo-link"
           class="text-2xl font-bold hover:underline text-white"
           aria-label="HappyDate - prezentowy asystent">
          ğŸ HappyDate
        </a>
        <span class="hidden md:inline ml-2 text-base italic text-white/90">
          TwÃ³j ciepÅ‚y asystent prezentowy
        </span>
        <button
          id="audioBtn"
          title="PosÅ‚uchaj nas"
          class="text-white text-2xl p-2 rounded hover:bg-white/10 transition focus:ring-2 focus:ring-cyan-300"
          aria-label="Audio prezentacja"
          aria-controls="audioModal"
          type="button"
        >âœ¨</button>
      </div>

      <button
        id="mobile-menu-toggle"
        class="text-white text-3xl sm:hidden p-2 rounded hover:bg-white/10 focus:ring-2 focus:ring-cyan-300 transition"
        aria-label="Menu"
        aria-controls="mobile-menu"
        aria-expanded="false"
        type="button"
      >â˜°</button>
    </div>

    <!-- Desktop nav -->
    <nav class="hidden sm:block mt-4 text-white" id="desktop-menu" aria-label="Menu desktop">
      <div class="flex justify-between items-center flex-wrap gap-4">
        <div class="flex gap-4 md:gap-6 items-center">
          <a href="/index.html" data-i18n="header.home" tabindex="0"
             class="px-1 py-0.5 rounded bg-white/20 underline font-semibold focus:bg-white/30 transition"
             aria-current="page">Strona gÅ‚Ã³wna</a>
          <a href="/pages/services.html" data-i18n="header.services" tabindex="0"
             class="px-1 py-0.5 rounded hover:bg-white/20 focus:bg-white/30 transition">UsÅ‚ugi</a>
          <a href="/pages/dashboard.html" data-i18n="header.dashboard" tabindex="0"
             class="px-1 py-0.5 rounded hover:bg-white/20 focus:bg-white/30 transition">Moje wydarzenia</a>
          <a href="/pages/partnerstwo.html" data-i18n="header.partner" tabindex="0"
             class="px-1 py-0.5 rounded hover:bg-white/20 focus:bg-white/30 transition">Partnerstwo</a>
          <a href="/pages/about.html" data-i18n="header.about" tabindex="0"
             class="px-1 py-0.5 rounded hover:bg-white/20 focus:bg-white/30 transition">O nas</a>
          <a href="/pages/reviews.html" data-i18n="header.reviews" tabindex="0"
             class="px-1 py-0.5 rounded hover:bg-white/20 focus:bg-white/30 transition">Opinie</a>
        </div>

        <!-- Right side: language + auth -->
        <div class="flex gap-3 items-center flex-wrap">

          <!-- Language -->
          <div class="relative" id="lang-dropdown-wrap">
            <button id="langDropdownBtn"
              class="flex items-center gap-2 px-3 py-2 rounded border bg-white/10 text-white hover:bg-white/20 transition focus:ring-2 focus:ring-blue-300"
              aria-label="ZmieÅ„ jÄ™zyk"
              aria-haspopup="menu"
              aria-expanded="false"
              aria-controls="langDropdown"
              type="button">
              <span id="langFlag">ğŸŒ</span>
              <svg class="w-4 h-4 transition-transform" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24" aria-hidden="true">
                <path stroke-linecap="round" stroke-linejoin="round" d="M19 9l-7 7-7-7"></path>
              </svg>
            </button>
            <div id="langDropdown"
              class="absolute right-0 mt-2 bg-white shadow-xl rounded-xl z-50 py-2 min-w-[150px] hidden text-left transition-all duration-200 scale-95 opacity-0 origin-top-right"
              role="menu">
              <button class="flex items-center gap-2 w-full px-4 py-3 text-base hover:bg-blue-100 transition" data-lang="pl" role="menuitem" tabindex="-1" aria-label="Polski"><span>ğŸ‡µğŸ‡±</span> Polski</button>
              <button class="flex items-center gap-2 w-full px-4 py-3 text-base hover:bg-blue-100 transition" data-lang="ua" role="menuitem" tabindex="-1" aria-label="Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°"><span>ğŸ‡ºğŸ‡¦</span> Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°</button>
              <button class="flex items-center gap-2 w-full px-4 py-3 text-base hover:bg-blue-100 transition" data-lang="en" role="menuitem" tabindex="-1" aria-label="English"><span>ğŸ‡¬ğŸ‡§</span> English</button>
              <button class="flex items-center gap-2 w-full px-4 py-3 text-base hover:bg-blue-100 transition" data-lang="ru" role="menuitem" tabindex="-1" aria-label="Ğ ÑƒÑÑĞºĞ¸Ğ¹"><span>ğŸ‡·ğŸ‡º</span> Ğ ÑƒÑÑĞºĞ¸Ğ¹</button>
              <button class="flex items-center gap-2 w-full px-4 py-3 text-base hover:bg-blue-100 transition" data-lang="de" role="menuitem" tabindex="-1" aria-label="Deutsch"><span>ğŸ‡©ğŸ‡ª</span> Deutsch</button>
            </div>
          </div>

          <!-- Auth shortcuts (desktop) -->
          <a href="/pages/login.html"
             id="login-link"
             class="px-3 py-1.5 rounded-xl bg-white text-blue-700 font-semibold text-sm transition hover:bg-blue-50">Zaloguj siÄ™</a>
          <a href="/pages/register.html"
             id="register-link"
             class="px-3 py-1.5 rounded-xl bg-white/10 text-white font-semibold text-sm transition hover:bg-white/20">Rejestracja</a>

          <a href="/pages/profile.html"
             id="dashboard-link"
             class="hidden px-4 py-2 rounded-xl bg-green-600 text-white font-semibold text-sm transition hover:bg-green-700 focus:ring-2 focus:ring-green-300"
             aria-label="Panel uÅ¼ytkownika">Panel uÅ¼ytkownika</a>

          <button id="logout-btn"
                  class="hidden px-4 py-2 rounded-xl bg-red-600 text-white font-semibold text-sm transition hover:bg-red-700 focus:ring-2 focus:ring-red-300"
                  aria-label="Wyloguj siÄ™"
                  type="button">Wyloguj siÄ™</button>
        </div>
      </div>
    </nav>

    <!-- Mobile -->
    <div id="mobile-menu" class="sm:hidden hidden mt-4 text-white space-y-3" aria-label="Menu mobilne">
      <div class="flex flex-col gap-2">
        <a href="/index.html" tabindex="0">Strona gÅ‚Ã³wna</a>
        <a href="/pages/services.html" tabindex="0">UsÅ‚ugi</a>
        <a href="/pages/dashboard.html" tabindex="0">Moje wydarzenia</a>
        <a href="/pages/partnerstwo.html" tabindex="0">Partnerstwo</a>
        <a href="/pages/about.html" tabindex="0">O nas</a>
        <a href="/pages/reviews.html" tabindex="0">Opinie</a>
      </div>
      <div class="flex gap-2 mt-4 flex-wrap" aria-label="Zmiana jÄ™zyka">
        <button class="lang-btn px-2 py-1 rounded border focus:ring-2 focus:ring-pink-400" data-lang="pl" aria-label="Polski" type="button">ğŸ‡µğŸ‡±</button>
        <button class="lang-btn px-2 py-1 rounded border focus:ring-2 focus:ring-pink-400" data-lang="ua" aria-label="Ğ£ĞºÑ€Ğ°Ñ—Ğ½ÑÑŒĞºĞ°" type="button">ğŸ‡ºğŸ‡¦</button>
        <button class="lang-btn px-2 py-1 rounded border focus:ring-2 focus:ring-pink-400" data-lang="en" aria-label="English" type="button">ğŸ‡¬ğŸ‡§</button>
        <button class="lang-btn px-2 py-1 rounded border focus:ring-2 focus:ring-pink-400" data-lang="ru" aria-label="Ğ ÑƒÑÑĞºĞ¸Ğ¹" type="button">ğŸ‡·ğŸ‡º</button>
        <button class="lang-btn px-2 py-1 rounded border focus:ring-2 focus:ring-pink-400" data-lang="de" aria-label="Deutsch" type="button">ğŸ‡©ğŸ‡ª</button>
      </div>
      <div id="auth-buttons-mobile" class="flex flex-col gap-2 mt-3">
        <a href="/pages/register.html" id="register-link-mobile" class="px-3 py-1 rounded bg-white text-blue-600 font-semibold text-center transition hover:bg-blue-100">Rejestracja</a>
        <a href="/pages/login.html" id="login-link-mobile" class="px-3 py-1 rounded bg-white text-blue-600 font-semibold text-center transition hover:bg-blue-100">Zaloguj siÄ™</a>
        <a href="/pages/profile.html" id="dashboard-link-mobile" class="hidden px-3 py-1 rounded bg-green-600 text-white font-semibold text-center transition hover:bg-green-700">Panel uÅ¼ytkownika</a>
        <button id="logout-btn-mobile" class="hidden px-3 py-1 rounded bg-red-600 text-white font-semibold text-center transition hover:bg-red-700" type="button">Wyloguj siÄ™</button>
      </div>
    </div>
  </div>
</header>

<!-- Audio Modal -->
<dialog id="audioModal" class="rounded-2xl shadow-lg p-0 w-full max-w-md">
  <form method="dialog" class="p-6 bg-white dark:bg-gray-800 flex flex-col gap-4">
    <h3 class="text-lg font-bold">KrÃ³tka zapowiedÅº</h3>
    <p class="text-sm text-gray-600 dark:text-gray-300">CiepÅ‚o, emocje i prezenty â€” odkryj HappyDate w 30 sekund ğŸ’›</p>
    <audio controls preload="none" class="w-full">
      <source src="/audio/ElevenLabs_2025-04-09T21_13_18....mp3" type="audio/mpeg" />
      Twoja przeglÄ…darka nie wspiera audio.
    </audio>
    <div class="flex justify-end">
      <button class="px-4 py-2 rounded-lg border">Zamknij</button>
    </div>
  </form>
</dialog>

<!-- Header interactions (menu/lang/audio) -->
<script>
(() => {
  const qs  = (s, r=document) => r.querySelector(s);
  const qsa = (s, r=document) => Array.from(r.querySelectorAll(s));

  const audioBtn = qs('#audioBtn');
  audioBtn?.addEventListener('click', () => qs('#audioModal')?.showModal());

  const mobileBtn  = qs('#mobile-menu-toggle');
  const mobileMenu = qs('#mobile-menu');
  mobileBtn?.addEventListener('click', () => {
    const isHidden = mobileMenu.classList.toggle('hidden');
    mobileBtn.setAttribute('aria-expanded', String(!isHidden));
  });

  const langBtn   = qs('#langDropdownBtn');
  const langMenu  = qs('#langDropdown');
  const langWrap  = qs('#lang-dropdown-wrap');
  const langFlag  = qs('#langFlag');
  const langMap   = { pl: "ğŸ‡µğŸ‡±", ua: "ğŸ‡ºğŸ‡¦", en: "ğŸ‡¬ğŸ‡§", ru: "ğŸ‡·ğŸ‡º", de: "ğŸ‡©ğŸ‡ª" };
  const currentLang = () => localStorage.getItem('lang') || (navigator.language?.slice(0,2) ?? 'pl');
  const updateLangFlag = () => { if(langFlag) langFlag.textContent = langMap[currentLang()] || 'ğŸŒ'; };
  updateLangFlag();

  function openMenu(){ langMenu.classList.remove('hidden','scale-95','opacity-0'); langMenu.classList.add('scale-100','opacity-100'); langBtn.setAttribute('aria-expanded','true'); langBtn.querySelector('svg')?.classList.add('rotate-180'); qsa('[role="menuitem"]', langMenu)[0]?.focus();}
  function closeMenu(){ langMenu.classList.add('hidden','scale-95','opacity-0'); langMenu.classList.remove('scale-100','opacity-100'); langBtn.setAttribute('aria-expanded','false'); langBtn.querySelector('svg')?.classList.remove('rotate-180'); }
  langBtn?.addEventListener('click', (e)=>{ e.stopPropagation(); langMenu.classList.contains('hidden') ? openMenu() : closeMenu(); });
  document.addEventListener('click', (e)=>{ if(!langWrap?.contains(e.target)) closeMenu(); });
  langBtn?.addEventListener('keydown', (e)=>{ if(['ArrowDown','Enter',' '].includes(e.key)){ e.preventDefault(); openMenu(); }});
  langMenu?.addEventListener('keydown', (e)=>{
    const items = qsa('[role="menuitem"]', langMenu);
    const idx = items.indexOf(document.activeElement);
    if(e.key==='Escape'){ e.preventDefault(); closeMenu(); langBtn.focus(); }
    if(e.key==='ArrowDown'){ e.preventDefault(); (items[idx+1]||items[0])?.focus(); }
    if(e.key==='ArrowUp'){ e.preventDefault(); (items[idx-1]||items.at(-1))?.focus(); }
    if(e.key==='Home'){ e.preventDefault(); items[0]?.focus(); }
    if(e.key==='End'){ e.preventDefault(); items.at(-1)?.focus(); }
  });
  qsa('#langDropdown [role="menuitem"]').forEach(btn=> btn.addEventListener('click', ()=>{ localStorage.setItem('lang', btn.getAttribute('data-lang')); updateLangFlag(); closeMenu(); location.reload(); }));
  qsa('#mobile-menu .lang-btn').forEach(btn=> btn.addEventListener('click', ()=>{ localStorage.setItem('lang', btn.getAttribute('data-lang')); updateLangFlag(); location.reload(); }));
})();
</script>

<!-- Sticky help icon + popup -->
<div class="fixed bottom-6 left-6 z-50" aria-label="Szybki kontakt">
  <div class="relative">
    <button
      id="helpBtn"
      class="bg-gradient-to-r from-blue-500 to-cyan-500 hover:from-blue-600 hover:to-cyan-600 text-white rounded-full p-4 shadow-xl text-xl transition duration-300 ease-in-out focus:ring-2 focus:ring-blue-300"
      aria-label="Szybki kontakt telefoniczny lub mailowy"
      aria-controls="helpPopup"
      aria-expanded="false"
      type="button"
    >ğŸ“</button>

    <div
      id="helpPopup"
      class="hidden absolute left-16 bottom-0 bg-white border border-gray-200 rounded-xl shadow-xl p-4 text-sm w-64 animate-fade-in z-50"
      role="dialog"
      aria-modal="true"
      aria-label="Pomoc"
    >
      <p class="text-gray-800 font-semibold mb-1">Potrzebujesz pomocy?</p>
      <p><a href="tel:+48123123123" class="text-blue-600 hover:underline" aria-label="ZadzwoÅ„ do nas">ğŸ“± +48 123 123 123</a></p>
      <p><a href="mailto:happydate@gmail.com" class="text-blue-600 hover:underline" aria-label="Napisz do nas">ğŸ“© happydate@gmail.com</a></p>
    </div>
  </div>
</div>

<!-- HERO -->
<main id="main">
<section class="bg-gradient-to-r from-pink-100 via-yellow-100 to-blue-100 py-16 sm:py-20 px-2 md:px-12 text-center relative overflow-hidden">
  <div class="max-w-4xl mx-auto z-10 relative" data-aos="fade-up">
    <h1 class="text-4xl md:text-5xl font-extrabold mb-6 text-gray-900 leading-tight" data-i18n="hero.title">
      HappyDate â€” ciepÅ‚y asystent, ktÃ³ry przypomina o waÅ¼nych chwilach i pomaga wybraÄ‡ prezenty prosto z serca ğŸ’›
    </h1>
    <p class="text-lg md:text-xl text-gray-700 mb-8" data-i18n="hero.description">
      Zatrzymaj czas, spraw komuÅ› niespodziankÄ™ i zobacz Å‚zy radoÅ›ci...
    </p>
    <div class="flex flex-col sm:flex-row justify-center gap-4 sm:gap-8 min-w-0">
      <a
        href="/pages/generator.html"
        class="px-6 py-3 bg-pink-500 text-white rounded-xl text-lg font-semibold shadow-md
               hover:bg-pink-600 hover:scale-105 hover:shadow-xl
               focus:bg-pink-600 focus:scale-105 focus:shadow-xl
               active:scale-95
               transition-all duration-200 ease-in-out focus:ring-2 focus:ring-pink-400 w-full sm:w-auto"
        data-i18n="hero.ctaFind"
        aria-label="ZnajdÅº prezent"
      >
        ZnajdÅº prezent <span class="inline-block animate-bounce ml-1">ğŸ</span>
      </a>
      <a
        href="/pages/dashboard.html"
        class="px-6 py-3 bg-yellow-400 text-gray-900 rounded-xl text-lg font-semibold shadow-md
               hover:bg-yellow-500 hover:scale-105 hover:shadow-xl
               focus:bg-yellow-500 focus:scale-105 focus:shadow-xl
               active:scale-95
               transition-all duration-200 ease-in-out focus:ring-2 focus:ring-yellow-300 w-full sm:w-auto"
        data-i18n="hero.ctaAdd"
        aria-label="Dodaj wydarzenie"
      >
        Dodaj wydarzenie <span class="inline-block animate-bounce ml-1">ğŸ“…</span>
      </a>
    </div>
  </div>

  <!-- dekor -->
  <div class="absolute animate-pulse text-pink-400 text-2xl sm:text-3xl top-4 sm:top-10 left-4 sm:left-10 pointer-events-none select-none" aria-hidden="true">ğŸ’–</div>
  <div class="absolute animate-ping text-yellow-400 text-xl sm:text-2xl top-24 sm:top-32 right-4 sm:right-12 pointer-events-none select-none" aria-hidden="true">âœ¨</div>
</section>

<!-- How it works -->
<section id="wowBlock" class="transition-all duration-700 ease-in-out translate-y-10 opacity-0 py-16 bg-white dark:bg-gray-900" aria-label="Jak to dziaÅ‚a?">
  <div class="max-w-4xl mx-auto text-center px-4">
    <h2 class="text-2xl font-semibold mb-10" data-i18n="howItWorks.title">Jak to dziaÅ‚a?</h2>
    <div class="grid sm:grid-cols-3 gap-8">
      <div data-aos="zoom-in" data-aos-delay="0">
        <span class="block text-3xl mb-2 font-extrabold text-blue-400">1</span>
        <p data-i18n="howItWorks.step1">Dodajesz wydarzenie do kalendarza</p>
      </div>
      <div data-aos="zoom-in" data-aos-delay="100">
        <span class="block text-3xl mb-2 font-extrabold text-pink-400">2</span>
        <p data-i18n="howItWorks.step2">WypeÅ‚niasz szczegÃ³Å‚y i preferencje</p>
      </div>
      <div data-aos="zoom-in" data-aos-delay="200">
        <span class="block text-3xl mb-2 font-extrabold text-yellow-400">3</span>
        <p data-i18n="howItWorks.step3">My zajmujemy siÄ™ resztÄ… â¤ï¸</p>
      </div>
    </div>
  </div>
</section>

<!-- Advantages -->
<section class="py-20 bg-gray-100 dark:bg-gray-800" aria-label="Dlaczego HappyDate?">
  <div class="max-w-4xl mx-auto px-4">
    <h2 class="text-2xl font-semibold text-center mb-12" data-i18n="advantages.title">Dlaczego HappyDate?</h2>
    <div class="space-y-10 md:space-y-8">
      <div>
        <h3 class="text-xl font-bold mb-2 flex items-center gap-2" data-i18n="advantages.ai">
          <span>ğŸ¤–</span> <span>AI â€” Inteligentny dobÃ³r prezentÃ³w</span>
        </h3>
        <p class="text-gray-700 dark:text-gray-300" data-i18n="advantages.aiDesc">
          Nasz AI pomoÅ¼e Ci wybraÄ‡ idealny prezent, uwzglÄ™dniajÄ…c preferencje obdarowanej osoby.
        </p>
      </div>
      <div>
        <h3 class="text-xl font-bold mb-2 flex items-center gap-2" data-i18n="advantages.privacy">
          <span>ğŸ”</span> <span>AnonimowoÅ›Ä‡ i bezpieczeÅ„stwo</span>
        </h3>
        <p class="text-gray-700 dark:text-gray-300" data-i18n="advantages.privacyDesc">
          Twoje dane sÄ… bezpieczne. Gwarantujemy peÅ‚nÄ… anonimowoÅ›Ä‡.
        </p>
      </div>
      <div>
        <h3 class="text-xl font-bold mb-2 flex items-center gap-2" data-i18n="advantages.delivery">
          <span>ğŸšš</span> <span>Wygodna dostawa na czas</span>
        </h3>
        <p class="text-gray-700 dark:text-gray-300" data-i18n="advantages.deliveryDesc">
          Prezent dotrze dokÅ‚adnie wtedy, kiedy powinien â€” bez stresu.
        </p>
      </div>
      <div>
        <h3 class="text-xl font-bold mb-2 flex items-center gap-2" data-i18n="advantages.emotions">
          <span>â¤ï¸</span> <span>Emocje na pierwszym miejscu</span>
        </h3>
        <p class="text-gray-700 dark:text-gray-300" data-i18n="advantages.emotionsDesc">
          HappyDate to wiÄ™cej niÅ¼ prezent â€” to chwila, wspomnienie i miÅ‚oÅ›Ä‡.
        </p>
      </div>
    </div>
  </div>
</section>

<!-- Reviews -->
<section class="bg-white dark:bg-gray-900 py-16" aria-label="Opinie uÅ¼ytkownikÃ³w">
  <div class="max-w-4xl mx-auto px-4 text-center">
    <h2 class="text-2xl font-semibold mb-10" data-i18n="reviews.title">Opinie naszych uÅ¼ytkownikÃ³w ğŸ’¬</h2>
    <div class="grid gap-6 md:grid-cols-3">
      <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-xl shadow">
        <p data-i18n="reviews.adam.text">ğŸ â€œDziÄ™ki HappyDate nie zapomniaÅ‚em o urodzinach Å¼ony. Prezent byÅ‚ strzaÅ‚em w dziesiÄ…tkÄ™!â€</p>
        <p class="text-sm mt-3 text-gray-600 dark:text-gray-400" data-i18n="reviews.adam.author">â€” Adam, Warszawa</p>
      </div>
      <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-xl shadow">
        <p data-i18n="reviews.kasia.text">ğŸ’Œ â€œZgodziÅ‚am siÄ™ z siostrÄ… po latach â€” prezent z HappyDate to byÅ‚ przeÅ‚om!â€</p>
        <p class="text-sm mt-3 text-gray-600 dark:text-gray-400" data-i18n="reviews.kasia.author">â€” Kasia, GdaÅ„sk</p>
      </div>
      <div class="bg-gray-100 dark:bg-gray-800 p-6 rounded-xl shadow">
        <p data-i18n="reviews.ola.text">ğŸŒŸ â€œDostaÅ‚am kwiaty i voucher w dzieÅ„ Mamy â€” dokÅ‚adnie tak, jak marzyÅ‚am.â€</p>
        <p class="text-sm mt-3 text-gray-600 dark:text-gray-400" data-i18n="reviews.ola.author">â€” Ola, KrakÃ³w</p>
      </div>
    </div>
  </div>
</section>

<!-- Gifts -->
<section class="bg-gray-100 dark:bg-gray-800 py-20 pb-12" aria-label="Galeria przykÅ‚adowych prezentÃ³w">
  <div class="max-w-6xl mx-auto px-4">
    <h2 class="text-2xl font-semibold text-center mb-12" data-i18n="gifts.title">ğŸ PrzykÅ‚adowe prezenty</h2>
    <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 xl:grid-cols-4 gap-6 min-w-0">
      <div class="bg-white dark:bg-gray-900 p-4 rounded-xl shadow text-center group hover:shadow-xl transition-shadow duration-300">
        <img
          src="/img/gift1.jpg"
          srcset="/img/gift1_400.jpg 400w, /img/gift1_800.jpg 800w, /img/gift1_1200.jpg 1200w"
          sizes="(max-width: 640px) 100vw, (max-width: 1024px) 33vw, 25vw"
          width="800" height="533" loading="lazy" decoding="async"
          alt="Zestaw SPA i kartka Kocham CiÄ™ - prezent romantyczny"
          class="rounded mb-3 w-full h-40 object-cover group-hover:scale-105 transition-transform duration-300">
        <p class="font-medium" data-i18n="gifts.romantic">Zestaw SPA + kartka â€Kocham CiÄ™â€</p>
      </div>
      <div class="bg-white dark:bg-gray-900 p-4 rounded-xl shadow text-center group hover:shadow-xl transition-shadow duration-300">
        <img
          src="/img/gift2.jpg"
          srcset="/img/gift2_400.jpg 400w, /img/gift2_800.jpg 800w, /img/gift2_1200.jpg 1200w"
          sizes="(max-width: 640px) 100vw, (max-width: 1024px) 33vw, 25vw"
          width="800" height="533" loading="lazy" decoding="async"
          alt="Kwiaty i list z przeprosinami"
          class="rounded mb-3 w-full h-40 object-cover group-hover:scale-105 transition-transform duration-300">
        <p class="font-medium" data-i18n="gifts.flowers">Kwiaty + list z przeprosinami</p>
      </div>
      <div class="bg-white dark:bg-gray-900 p-4 rounded-xl shadow text-center group hover:shadow-xl transition-shadow duration-300">
        <img
          src="/img/gift3.jpg"
          srcset="/img/gift3_400.jpg 400w, /img/gift3_800.jpg 800w, /img/gift3_1200.jpg 1200w"
          sizes="(max-width: 640px) 100vw, (max-width: 1024px) 33vw, 25vw"
          width="800" height="533" loading="lazy" decoding="async"
          alt="Box niespodzianka i voucher"
          class="rounded mb-3 w-full h-40 object-cover group-hover:scale-105 transition-transform duration-300">
        <p class="font-medium" data-i18n="gifts.box">Box z niespodziankÄ… + voucher</p>
      </div>
      <div class="bg-white dark:bg-gray-900 p-4 rounded-xl shadow text-center group hover:shadow-xl transition-shadow duration-300">
        <img
          src="/img/gift4.jpg"
          srcset="/img/gift4_400.jpg 400w, /img/gift4_800.jpg 800w, /img/gift4_1200.jpg 1200w"
          sizes="(max-width: 640px) 100vw, (max-width: 1024px) 33vw, 25vw"
          width="800" height="533" loading="lazy" decoding="async"
          alt="Voucher na masaÅ¼ i kolacjÄ™"
          class="rounded mb-3 w-full h-40 object-cover group-hover:scale-105 transition-transform duration-300">
        <p class="font-medium" data-i18n="gifts.voucher">Voucher na masaÅ¼ i kolacjÄ™</p>
      </div>
    </div>
  </div>
</section>
</main>

<footer class="bg-blue-500 text-white py-6 mt-12" aria-label="Stopka HappyDate">
  <div class="max-w-4xl mx-auto text-center px-4 text-sm md:text-base" data-i18n="footer.text">
    &copy; 2025 HappyDate. Z miÅ‚oÅ›ciÄ… tworzymy niezapomniane chwile.<br>
    <span class="text-xs opacity-80">Projekt & UX: HappyDate Team | <a href="/pages/privacy.html" class="underline hover:text-yellow-200">Polityka prywatnoÅ›ci</a></span>
  </div>
</footer>

<!-- Main JS -->
<script src="/src/js/main.js" defer></script>

<!-- Chatbot -->
<div id="chatbot-toggle" class="fixed bottom-6 right-6 z-50" aria-label="OtwÃ³rz chatbota HappyBot">
  <button id="chatToggleBtn"
    class="bg-blue-600 hover:bg-blue-700 text-white rounded-full p-4 shadow-lg transition-all duration-300 focus:ring-2 focus:ring-blue-300"
    aria-label="WyÅ›lij pytanie do HappyBot"
    aria-controls="chatbot-window"
    aria-expanded="false"
    type="button"
  >ğŸ’¬</button>
</div>

<div id="chatbot-window" class="hidden fixed bottom-20 right-6 w-80 max-w-full bg-white dark:bg-gray-800 border rounded-xl shadow-2xl z-50 overflow-hidden" role="dialog" aria-modal="true" aria-label="Chatbot HappyBot">
  <div class="bg-blue-600 text-white p-4 font-semibold">
    ğŸ¤– HappyBot â€” TwÃ³j doradca prezentowy
  </div>
  <div class="p-4 text-sm h-64 overflow-y-auto" id="chat-content" aria-live="polite">
    <p class="text-gray-700 dark:text-gray-200"><strong>HappyBot: </strong><span>CzeÅ›Ä‡! Jak mogÄ™ Ci pomÃ³c znaleÅºÄ‡ idealny prezent? ğŸ</span></p>
  </div>
  <div class="p-2 border-t flex items-center bg-gray-50 dark:bg-gray-700">
    <label for="chat-input" class="sr-only">Twoja wiadomoÅ›Ä‡</label>
    <input type="text" id="chat-input" class="flex-1 p-2 text-sm rounded-l border border-gray-300 dark:bg-gray-800 dark:text-white" placeholder="Zadaj pytanie..." aria-label="Twoja wiadomoÅ›Ä‡">
    <button id="chatSendBtn" class="bg-blue-500 text-white px-3 py-2 rounded-r" type="button">WyÅ›lij</button>
  </div>
</div>

<script>
(() => {
  const chatWindow = document.getElementById('chatbot-window');
  const chatToggle = document.getElementById('chatToggleBtn');
  const chatInput  = document.getElementById('chat-input');
  const chatSend   = document.getElementById('chatSendBtn');
  const chatBody   = document.getElementById('chat-content');

  const isOpen = () => !chatWindow.classList.contains('hidden');
  const openChat = () => { chatWindow.classList.remove('hidden'); chatToggle.setAttribute('aria-expanded','true'); setTimeout(()=>chatInput.focus(), 50); };
  const closeChat = () => { chatWindow.classList.add('hidden'); chatToggle.setAttribute('aria-expanded','false'); chatToggle.focus(); };

  chatToggle?.addEventListener('click', () => (isOpen() ? closeChat() : openChat()));
  document.addEventListener('keydown', (e) => { if (e.key === 'Escape' && isOpen()) closeChat(); });

  function appendMsg(text, who = 'user') {
    const p = document.createElement('p');
    p.className = who === 'user' ? 'mt-2 text-right text-blue-600 dark:text-blue-400' : 'mt-2 text-gray-700 dark:text-gray-200';
    const strong = document.createElement('strong');
    strong.textContent = who === 'user' ? 'Ty: ' : 'HappyBot: ';
    const span = document.createElement('span');
    span.textContent = text;
    p.append(strong, span);
    chatBody.appendChild(p);
    chatBody.scrollTop = chatBody.scrollHeight;
  }

  function send() {
    const msg = chatInput.value.trim();
    if (!msg) return;
    appendMsg(msg, 'user');
    chatInput.value = '';
    setTimeout(() => appendMsg('Åšwietny wybÃ³r! ğŸ Masz jeszcze inne pytania?', 'bot'), 500);
  }

  chatSend?.addEventListener('click', send);
  chatInput?.addEventListener('keydown', (e) => { if (e.key === 'Enter') send(); });
})();
</script>

<!-- Cookies (PL) -->
<div id="cookieConsent" class="fixed bottom-0 inset-x-0 bg-gray-800 bg-opacity-90 text-white py-4 px-6 z-50 hidden" role="dialog" aria-modal="true" aria-label="Informacja o plikach cookies">
  <div class="max-w-6xl mx-auto flex flex-col md:flex-row items-center justify-between gap-4">
    <p class="text-sm md:text-base" data-i18n="cookies.text">
      Ta strona uÅ¼ywa plikÃ³w cookies, by ulepszyÄ‡ TwÃ³j komfort. KorzystajÄ…c dalej z serwisu, akceptujesz naszÄ…
      <a href="/pages/privacy.html" class="underline hover:text-blue-300" target="_blank" rel="noopener noreferrer">PolitykÄ™ PrywatnoÅ›ci</a>.
    </p>
    <button id="acceptCookies" class="bg-blue-500 hover:bg-blue-600 px-4 py-2 rounded-md font-semibold transition focus:ring-2 focus:ring-blue-400" aria-label="AkceptujÄ™ cookies">
      <span data-i18n="cookies.accept">AkceptujÄ™</span>
    </button>
  </div>
</div>
<script>
function loadScript(src){const s=document.createElement('script');s.src=src;s.async=true;document.head.appendChild(s);}
document.addEventListener("DOMContentLoaded", () => {
  const cookieConsent = document.getElementById('cookieConsent');
  const acceptBtn = document.getElementById('acceptCookies');
  const consent = localStorage.getItem('happydate_cookie_consent') === 'true';

  if (!consent) cookieConsent.classList.remove('hidden'); else {
    // GA moÅ¼na zaÅ‚adowaÄ‡ tutaj
  }

  acceptBtn.addEventListener('click', () => {
    localStorage.setItem('happydate_cookie_consent', 'true');
    cookieConsent.classList.add('hidden');
  });
});
</script>

<!-- i18n init -->
<script>
(function() {
  const html = document.documentElement;

  const repoBase = (() => {
    const parts = location.pathname.split('/').filter(Boolean);
    return parts.length > 0 ? `/${parts[0]}` : '';
  })();

  const supportedLangs = ["pl", "ua", "en", "ru", "de"];
  const browserLang = navigator.language?.slice(0, 2) || "pl";
  const initialLang = localStorage.getItem("lang") || (supportedLangs.includes(browserLang) ? browserLang : "pl");
  html.setAttribute('lang', initialLang);

  i18next
    .use(i18nextHttpBackend)
    .init({
      lng: initialLang,
      fallbackLng: "pl",
      backend: { loadPath: `${repoBase}/src/i18n/{{lng}}.json` }
    }, function(err, t) {
      document.querySelectorAll("[data-i18n]").forEach(el => {
        const key = el.getAttribute("data-i18n");
        if (i18next.exists(key)) el.innerHTML = t(key);
      });
    });

  document.querySelectorAll(".lang-btn,[data-lang]").forEach(btn => {
    btn.addEventListener("click", function () {
      const lang = this.getAttribute("data-lang");
      if (!supportedLangs.includes(lang)) return;
      localStorage.setItem("lang", lang);
      html.setAttribute('lang', lang);
      i18next.changeLanguage(lang).then(() => {
        document.querySelectorAll("[data-i18n]").forEach(el => {
          const key = el.getAttribute("data-i18n");
          if (i18next.exists(key)) el.innerHTML = i18next.t(key);
        });
      });
    });
  });
})();
</script>

<!-- AOS z PRM -->
<script>
  const prm = window.matchMedia && window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  AOS.init({ duration: prm ? 0 : 700, once: true, offset: 60, disable: prm });
</script>

<!-- WOW block reveal -->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const el = document.getElementById('wowBlock');
  if (!el) return;
  const observer = new IntersectionObserver(entries => {
    entries.forEach(entry => {
      if (entry.isIntersecting) {
        el.classList.remove('translate-y-10', 'opacity-0');
        el.classList.add('translate-y-0', 'opacity-100');
        observer.unobserve(el);
      }
    });
  }, { threshold: 0.3 });
  observer.observe(el);
});
</script>

<!-- ===== Supabase: env + client ===== -->
<script>
  // Pobierz jawnie tylko PUBLICZNE wartoÅ›ci (URL/ANON) z edge function
  window.env = {};
  fetch('/api/env').then(r=>r.json()).then(e => window.env = e).catch(()=>{});
</script>
<script type="module" src="/src/js/supabaseClient.js"></script>

<!-- ===== Header auth UI (Supabase) ===== -->
<script type="module">
  import { supabase } from '/src/js/supabaseClient.js';
  const $ = (s, r=document)=>r.querySelector(s);

  const els = {
    login: $('#login-link'),
    register: $('#register-link'),
    profile: $('#dashboard-link'),
    logout: $('#logout-btn'),
    loginM: $('#login-link-mobile'),
    registerM: $('#register-link-mobile'),
    profileM: $('#dashboard-link-mobile'),
    logoutM: $('#logout-btn-mobile'),
  };

  function show(el){ el?.classList.remove('hidden'); }
  function hide(el){ el?.classList.add('hidden'); }

  function setAuthUI(isAuthed){
    if (isAuthed){
      hide(els.login); hide(els.register);
      show(els.profile); show(els.logout);
      hide(els.loginM); hide(els.registerM);
      show(els.profileM); show(els.logoutM);
    } else {
      show(els.login); show(els.register);
      hide(els.profile); hide(els.logout);
      show(els.loginM); show(els.registerM);
      hide(els.profileM); hide(els.logoutM);
    }
  }

  // Initial state
  try {
    const { data: { session } } = await supabase.auth.getSession();
    setAuthUI(!!session?.user);
  } catch { setAuthUI(false); }

  // Reactive changes
  supabase.auth.onAuthStateChange((_event, session) => {
    setAuthUI(!!session?.user);
  });

  // Logout handlers
  els.logout?.addEventListener('click', async ()=>{ await supabase.auth.signOut(); });
  els.logoutM?.addEventListener('click', async ()=>{ await supabase.auth.signOut(); });
</script>

<!-- Service Worker -->
<script>
if ('serviceWorker' in navigator) {
  window.addEventListener('load', () => {
    navigator.serviceWorker.register('/sw.js')
      .then(() => console.log('âœ… Service Worker zarejestrowany'))
      .catch(err => console.error('âŒ SW error:', err));
  });
}
</script>

</body>
</html>
